"use strict";(()=>{var e={};e.id=773,e.ids=[773],e.modules={885:e=>{e.exports=require("@supabase/supabase-js")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},202:(e,s,t)=>{t.r(s),t.d(s,{config:()=>p,default:()=>d,routeModule:()=>l});var a={};t.r(a),t.d(a,{default:()=>handler});var r=t(802),n=t(44),u=t(249),o=t(885);let i=(0,o.createClient)(process.env.SUPABASE_URL,process.env.SUPABASE_SERVICE_ROLE_KEY);async function handler(e,s){if("POST"!==e.method)return s.status(405).json({error:"Method not allowed"});let{paymentId:t,newStatus:a}=e.body;if(!t||!a)return s.status(400).json({error:"Missing parameters"});let{error:r}=await i.from("payments").update({status:a}).eq("id",t);return r?s.status(500).json({error:r.message}):s.status(200).json({success:!0})}let d=(0,u.l)(a,"default"),p=(0,u.l)(a,"config"),l=new r.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/update_payments",pathname:"/api/update_payments",bundlePath:"",filename:""},userland:a})}};var s=require("../../webpack-api-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[222],()=>__webpack_exec__(202));module.exports=t})();