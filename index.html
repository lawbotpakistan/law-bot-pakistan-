<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LawBotPakistan - Professional Legal Research Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            box-sizing: border-box;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .chat-container {
            height: 100%;
            max-height: 500px;
            overflow-y: auto;
        }
        .message {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .typing-indicator {
            display: none;
        }
        .typing-indicator.show {
            display: flex;
        }
        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #6b7280;
            animation: typing 1.4s infinite ease-in-out;
        }
        .dot:nth-child(1) { animation-delay: -0.32s; }
        .dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
        .feature-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .nav-link {
            transition: color 0.3s ease;
        }
        .nav-link:hover {
            color: #fbbf24;
        }
    </style>
</head>
<body class="min-h-full">
    <!-- Hero Section -->
    <div id="heroSection" class="gradient-bg min-h-full">
        <div class="container mx-auto px-4 py-8">
            <!-- Navigation -->
            <nav class="flex justify-between items-center mb-12">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-balance-scale text-white text-2xl"></i>
                    <span class="text-white text-xl font-bold">LawBotPakistan</span>
                </div>
                <div class="hidden md:flex space-x-6">
                    <button onclick="scrollToSection('features')" class="nav-link text-white">Features</button>
                    <button onclick="scrollToSection('about')" class="nav-link text-white">About</button>
                    <button onclick="scrollToSection('guide')" class="nav-link text-white">Guide</button>
                    <button onclick="scrollToSection('faq')" class="nav-link text-white">FAQ</button>
                    <button onclick="showLoginModal()" class="nav-link text-white">Login</button>
                    <button onclick="showRegisterModal()" class="bg-white text-purple-600 px-6 py-2 rounded-full font-semibold hover:bg-gray-100 transition duration-200">Get Started</button>
                </div>
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="text-white">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </nav>

            <!-- Mobile Menu -->
            <div id="mobileMenu" class="hidden md:hidden mb-8">
                <div class="glass-effect rounded-lg p-4 space-y-3">
                    <button onclick="scrollToSection('features')" class="block w-full text-left text-white py-2">Features</button>
                    <button onclick="scrollToSection('about')" class="block w-full text-left text-white py-2">About</button>
                    <button onclick="scrollToSection('guide')" class="block w-full text-left text-white py-2">Guide</button>
                    <button onclick="scrollToSection('faq')" class="block w-full text-left text-white py-2">FAQ</button>
                    <button onclick="showLoginModal()" class="block w-full text-left text-white py-2">Login</button>
                    <button onclick="showRegisterModal()" class="block w-full bg-white text-purple-600 py-2 px-4 rounded-full font-semibold">Get Started</button>
                </div>
            </div>

            <!-- Hero Content -->
            <div class="text-center text-white mb-16">
                <h1 class="text-5xl md:text-6xl font-bold mb-6">
                    Professional Legal Research
                    <span class="block text-yellow-300">Made Simple</span>
                </h1>
                <p class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-90">
                    Get comprehensive legal guidance for Pakistani law. Constitutional, Family, Corporate, Property, Employment, Criminal, Cyber & International Law.
                </p>
                <button onclick="showRegisterModal()" class="bg-yellow-400 text-purple-800 px-8 py-4 rounded-full text-lg font-bold hover:bg-yellow-300 transition duration-200 shadow-lg">
                    Start Your Legal Research
                </button>
            </div>

            <!-- Features Grid -->
            <div id="features" class="grid md:grid-cols-3 gap-8 mb-16">
                <div class="feature-card glass-effect rounded-xl p-6 text-white text-center">
                    <i class="fas fa-gavel text-4xl mb-4 text-yellow-300"></i>
                    <h3 class="text-xl font-semibold mb-3">Comprehensive Legal Coverage</h3>
                    <p class="opacity-90">Constitutional, Family, Corporate, Property, Employment, Criminal, Cyber & International Law</p>
                </div>
                <div class="feature-card glass-effect rounded-xl p-6 text-white text-center">
                    <i class="fas fa-search text-4xl mb-4 text-yellow-300"></i>
                    <h3 class="text-xl font-semibold mb-3">Detailed Research</h3>
                    <p class="opacity-90">Get exact statutory references, case law citations, and step-by-step procedures</p>
                </div>
                <div class="feature-card glass-effect rounded-xl p-6 text-white text-center">
                    <i class="fas fa-clock text-4xl mb-4 text-yellow-300"></i>
                    <h3 class="text-xl font-semibold mb-3">Instant Responses</h3>
                    <p class="opacity-90">Professional-grade legal guidance available 24/7 for your practice</p>
                </div>
            </div>

            <!-- About Section -->
            <div id="about" class="mb-16">
                <div class="glass-effect rounded-xl p-8 text-white">
                    <h2 class="text-3xl font-bold mb-6 text-center">About LawBotPakistan</h2>
                    <div class="grid md:grid-cols-2 gap-8 items-center">
                        <div>
                            <p class="text-lg mb-4 opacity-90">
                                LawBotPakistan is Pakistan's premier AI-powered legal research assistant, designed specifically for legal professionals, law students, and individuals seeking comprehensive guidance on Pakistani law.
                            </p>
                            <p class="text-lg mb-4 opacity-90">
                                Our advanced AI system provides detailed, accurate, and up-to-date legal information across all major areas of Pakistani jurisprudence, helping you make informed legal decisions.
                            </p>
                            <div class="flex items-center space-x-4">
                                <div class="text-center">
                                    <div class="text-2xl font-bold">24/7</div>
                                    <div class="text-sm opacity-75">Available</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold">8+</div>
                                    <div class="text-sm opacity-75">Legal Areas</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold">100%</div>
                                    <div class="text-sm opacity-75">Pakistani Law</div>
                                </div>
                            </div>
                        </div>
                        <div class="text-center">
                            <i class="fas fa-balance-scale text-8xl text-yellow-300 mb-4"></i>
                            <h3 class="text-xl font-semibold">Trusted Legal Guidance</h3>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Guide Section -->
            <div id="guide" class="mb-16">
                <div class="glass-effect rounded-xl p-8 text-white">
                    <h2 class="text-3xl font-bold mb-8 text-center">How to Use LawBotPakistan</h2>
                    <div class="grid md:grid-cols-4 gap-6">
                        <div class="text-center">
                            <div class="bg-yellow-400 text-purple-800 rounded-full w-12 h-12 flex items-center justify-center text-xl font-bold mx-auto mb-4">1</div>
                            <h3 class="font-semibold mb-2">Register</h3>
                            <p class="text-sm opacity-90">Create your account with basic information</p>
                        </div>
                        <div class="text-center">
                            <div class="bg-yellow-400 text-purple-800 rounded-full w-12 h-12 flex items-center justify-center text-xl font-bold mx-auto mb-4">2</div>
                            <h3 class="font-semibold mb-2">Subscribe</h3>
                            <p class="text-sm opacity-90">Choose your subscription plan and make payment</p>
                        </div>
                        <div class="text-center">
                            <div class="bg-yellow-400 text-purple-800 rounded-full w-12 h-12 flex items-center justify-center text-xl font-bold mx-auto mb-4">3</div>
                            <h3 class="font-semibold mb-2">Get Approved</h3>
                            <p class="text-sm opacity-90">Wait for admin verification of your payment</p>
                        </div>
                        <div class="text-center">
                            <div class="bg-yellow-400 text-purple-800 rounded-full w-12 h-12 flex items-center justify-center text-xl font-bold mx-auto mb-4">4</div>
                            <h3 class="font-semibold mb-2">Start Research</h3>
                            <p class="text-sm opacity-90">Ask legal questions and get detailed guidance</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAQ Section -->
            <div id="faq" class="mb-16">
                <div class="glass-effect rounded-xl p-8 text-white">
                    <h2 class="text-3xl font-bold mb-8 text-center">Frequently Asked Questions</h2>
                    <div class="space-y-6">
                        <div class="border-b border-white border-opacity-20 pb-4">
                            <h3 class="font-semibold mb-2 text-lg">What areas of Pakistani law does LawBotPakistan cover?</h3>
                            <p class="opacity-90">We cover all major areas including Constitutional Law, Family Law, Corporate Law, Property Law, Employment Law, Criminal Law, Cyber Law, and International Law as applicable in Pakistan.</p>
                        </div>
                        <div class="border-b border-white border-opacity-20 pb-4">
                            <h3 class="font-semibold mb-2 text-lg">How accurate is the legal information provided?</h3>
                            <p class="opacity-90">Our AI is trained on comprehensive Pakistani legal databases and provides highly accurate information. However, always consult with a qualified lawyer for specific legal advice.</p>
                        </div>
                        <div class="border-b border-white border-opacity-20 pb-4">
                            <h3 class="font-semibold mb-2 text-lg">What payment methods do you accept?</h3>
                            <p class="opacity-90">You can pay from ANY mobile banking app - JazzCash, EasyPaisa, Bank Apps, SadaPay, etc. All payments are sent to our SadaPay account number.</p>
                        </div>
                        <div class="border-b border-white border-opacity-20 pb-4">
                            <h3 class="font-semibold mb-2 text-lg">How long does payment verification take?</h3>
                            <p class="opacity-90">Payment verification typically takes 2-24 hours. Our admin team reviews all payments manually to ensure security.</p>
                        </div>
                        <div class="border-b border-white border-opacity-20 pb-4">
                            <h3 class="font-semibold mb-2 text-lg">Can I cancel my subscription?</h3>
                            <p class="opacity-90">Yes, you can cancel your subscription at any time. Contact our support team for assistance with cancellations.</p>
                        </div>
                        <div>
                            <h3 class="font-semibold mb-2 text-lg">Is my data secure?</h3>
                            <p class="opacity-90">Yes, we use industry-standard security measures to protect your data. All conversations are encrypted and stored securely.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pricing -->
            <div class="max-w-md mx-auto">
                <div class="glass-effect rounded-xl p-8 text-white text-center">
                    <h3 class="text-2xl font-bold mb-4">Professional Subscription</h3>
                    <div class="text-4xl font-bold mb-2">Rs. 2,999<span class="text-lg">/month</span></div>
                    <p class="opacity-90 mb-6">Unlimited legal queries & comprehensive research</p>
                    <button onclick="showRegisterModal()" class="w-full bg-yellow-400 text-purple-800 py-3 rounded-full font-bold hover:bg-yellow-300 transition duration-200">
                        Subscribe Now
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Welcome Back</h2>
                <button onclick="closeModals()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <form id="loginForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                    <input type="email" id="loginEmail" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="loginPassword" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                </div>
                <button type="submit" class="w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition duration-200">
                    Sign In
                </button>
            </form>
            <p class="text-center mt-4 text-gray-600">
                Don't have an account? 
                <button onclick="switchToRegister()" class="text-purple-600 hover:underline font-semibold">Sign up</button>
            </p>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Create Account</h2>
                <button onclick="closeModals()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <form id="registerForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                    <input type="text" id="registerName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                    <input type="email" id="registerEmail" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                    <input type="tel" id="registerPhone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="registerPassword" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                </div>
                <button type="submit" class="w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition duration-200">
                    Create Account
                </button>
            </form>
            <p class="text-center mt-4 text-gray-600">
                Already have an account? 
                <button onclick="switchToLogin()" class="text-purple-600 hover:underline font-semibold">Sign in</button>
            </p>
        </div>
    </div>

    <!-- Subscription Section -->
    <div id="subscriptionSection" class="hidden min-h-full bg-gray-50">
        <div class="container mx-auto px-4 py-8">
            <div class="max-w-2xl mx-auto">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">Complete Your Subscription</h2>
                    <p class="text-gray-600">Get unlimited access to professional legal research</p>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                    <div class="bg-gradient-to-r from-purple-500 to-blue-600 text-white p-6 rounded-lg mb-6">
                        <h3 class="text-2xl font-bold mb-2">Professional Legal Research</h3>
                        <p class="text-purple-100 mb-4">Comprehensive guidance for Pakistani law</p>
                        <div class="text-4xl font-bold">Rs. 2,999/month</div>
                        <p class="text-purple-100 text-sm">Unlimited legal queries</p>
                    </div>
                    
                    <div class="space-y-4 mb-6">
                        <h4 class="font-semibold text-gray-800 text-lg">✅ What's Included:</h4>
                        <div class="grid md:grid-cols-2 gap-3 text-sm text-gray-600">
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-check text-green-500"></i>
                                <span>Constitutional Law Guidance</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-check text-green-500"></i>
                                <span>Family Law Procedures</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-check text-green-500"></i>
                                <span>Corporate & Business Law</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-check text-green-500"></i>
                                <span>Property & Real Estate</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-check text-green-500"></i>
                                <span>Employment Law</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-check text-green-500"></i>
                                <span>Criminal Law Procedures</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-check text-green-500"></i>
                                <span>Cyber Law & Digital Rights</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-check text-green-500"></i>
                                <span>International Law</span>
                            </div>
                        </div>
                    </div>

                    <button onclick="initiatePayment()" class="w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-blue-700 transition duration-200">
                        <i class="fas fa-credit-card mr-2"></i>
                        Subscribe Now - Pay to SadaPay
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Section -->
    <div id="paymentSection" class="hidden min-h-full bg-gray-50">
        <div class="container mx-auto px-4 py-8">
            <div class="max-w-md mx-auto">
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h2 class="text-2xl font-bold text-center mb-6">💳 SadaPay Payment</h2>
                    
                    <div class="bg-green-50 border border-green-200 rounded-lg p-6 mb-6">
                        <h3 class="font-semibold text-green-800 mb-3">💳 Payment Instructions:</h3>
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4">
                            <p class="text-blue-800 font-semibold text-center">
                                📱 Pay from ANY app → JazzCash, EasyPaisa, Bank Apps, SadaPay, etc.
                            </p>
                            <p class="text-blue-700 text-center text-sm mt-1">
                                All payments go to our SadaPay account below ⬇️
                            </p>
                        </div>
                        <ol class="text-sm text-green-700 space-y-2">
                            <li class="flex items-start space-x-2">
                                <span class="bg-green-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold">1</span>
                                <span>Open your mobile banking app (JazzCash, EasyPaisa, Bank App, SadaPay, etc.)</span>
                            </li>
                            <li class="flex items-start space-x-2">
                                <span class="bg-green-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold">2</span>
                                <span>Send Rs. 2,999 to our SadaPay number: <strong>03XX-XXXXXXX</strong></span>
                            </li>
                            <li class="flex items-start space-x-2">
                                <span class="bg-green-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold">3</span>
                                <span>Take a screenshot of the successful payment</span>
                            </li>
                            <li class="flex items-start space-x-2">
                                <span class="bg-green-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold">4</span>
                                <span>Submit the transaction details and screenshot below</span>
                            </li>
                        </ol>
                    </div>
                    
                    <form id="paymentForm" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Transaction ID / Reference Number</label>
                            <input type="text" id="transactionId" required placeholder="Enter transaction ID from your payment app" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Amount Sent</label>
                            <input type="number" id="amountSent" value="2999" readonly class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Payment Screenshot</label>
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                                <input type="file" id="paymentScreenshot" accept="image/*" required class="hidden">
                                <div id="uploadArea" onclick="document.getElementById('paymentScreenshot').click()" class="cursor-pointer">
                                    <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-2"></i>
                                    <p class="text-gray-600">Click to upload payment screenshot</p>
                                    <p class="text-sm text-gray-500">PNG, JPG up to 5MB</p>
                                </div>
                                <div id="uploadPreview" class="hidden">
                                    <img id="previewImage" class="max-w-full h-32 mx-auto rounded-lg mb-2">
                                    <p class="text-sm text-green-600">Screenshot uploaded successfully!</p>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition duration-200">
                            Submit for Verification
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Pending Approval -->
    <div id="pendingSection" class="hidden min-h-full bg-gray-50">
        <div class="container mx-auto px-4 py-8">
            <div class="max-w-md mx-auto">
                <div class="bg-white rounded-xl shadow-lg p-8 text-center">
                    <div class="text-6xl mb-6">⏳</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Payment Under Review</h2>
                    <p class="text-gray-600 mb-6">Your payment is being verified by our admin team. You'll get access once approved.</p>
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
                        <p class="text-sm text-yellow-800">
                            <strong>Transaction ID:</strong> <span id="pendingTransactionId"></span><br>
                            <strong>Status:</strong> Pending Approval
                        </p>
                    </div>
                    <button onclick="logout()" class="bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition duration-200">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden min-h-full bg-gray-50">
        <div class="container mx-auto px-4 py-8">
            <!-- Header -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <div class="flex justify-between items-center">
                    <div>
                        <h3 class="text-xl font-bold text-gray-800">Welcome, <span id="userName"></span>!</h3>
                        <p class="text-green-600 flex items-center">
                            <i class="fas fa-check-circle mr-1"></i>
                            Premium Active
                        </p>
                    </div>
                    <div class="flex space-x-3">
                        <button id="adminBtn" onclick="showAdmin()" class="hidden bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition duration-200">
                            <i class="fas fa-crown mr-1"></i>
                            Admin
                        </button>
                        <button onclick="logout()" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200">
                            <i class="fas fa-sign-out-alt mr-1"></i>
                            Logout
                        </button>
                    </div>
                </div>
            </div>

            <!-- Chat Interface -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <div class="chat-container mb-6" id="chatContainer">
                    <div class="message bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-6 mb-4">
                        <div class="flex items-center mb-3">
                            <i class="fas fa-robot text-purple-600 text-xl mr-2"></i>
                            <span class="font-bold text-purple-800">LawBotPakistan</span>
                        </div>
                        <div class="text-gray-700">
                            <p class="mb-4"><strong>Welcome to your professional legal research assistant!</strong></p>
                            
                            <p class="mb-4">I provide comprehensive guidance on Pakistani law including:</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm mb-4">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-gavel text-purple-600"></i>
                                    <span>Constitutional Law</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-users text-purple-600"></i>
                                    <span>Family Law</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-building text-purple-600"></i>
                                    <span>Corporate Law</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-home text-purple-600"></i>
                                    <span>Property Law</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-briefcase text-purple-600"></i>
                                    <span>Employment Law</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-shield-alt text-purple-600"></i>
                                    <span>Criminal Law</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-laptop text-purple-600"></i>
                                    <span>Cyber Law</span>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-globe text-purple-600"></i>
                                    <span>International Law</span>
                                </div>
                            </div>
                            
                            <p class="text-sm font-medium">Ask me any specific legal question for detailed, professional guidance!</p>
                        </div>
                    </div>
                </div>

                <!-- Typing Indicator -->
                <div class="typing-indicator mb-4" id="typingIndicator">
                    <div class="bg-gray-100 rounded-xl p-4 flex items-center space-x-3">
                        <div class="flex space-x-1">
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                        <span class="text-gray-600 text-sm">AI is researching your legal question...</span>
                    </div>
                </div>

                <!-- Chat Input -->
                <form id="chatForm" class="flex space-x-3">
                    <input type="text" id="chatInput" placeholder="Ask your legal question..." class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" required>
                    <button type="submit" class="bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition duration-200">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="hidden min-h-full bg-gray-50">
        <div class="container mx-auto px-4 py-8">
            <div class="bg-white rounded-xl shadow-lg p-6">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800">
                        <i class="fas fa-crown text-purple-600 mr-2"></i>
                        Admin Dashboard
                    </h2>
                    <button onclick="hideAdmin()" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition duration-200">
                        <i class="fas fa-arrow-left mr-1"></i>
                        Back to Chat
                    </button>
                </div>

                <!-- Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <h3 class="text-lg font-semibold opacity-90">Total Users</h3>
                                <div class="text-3xl font-bold" id="totalUsers">0</div>
                            </div>
                            <i class="fas fa-users text-3xl opacity-80"></i>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <h3 class="text-lg font-semibold opacity-90">Active Subscriptions</h3>
                                <div class="text-3xl font-bold" id="activeSubscriptions">0</div>
                            </div>
                            <i class="fas fa-check-circle text-3xl opacity-80"></i>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 text-white rounded-xl p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <h3 class="text-lg font-semibold opacity-90">Pending Approvals</h3>
                                <div class="text-3xl font-bold" id="pendingApprovals">0</div>
                            </div>
                            <i class="fas fa-clock text-3xl opacity-80"></i>
                        </div>
                    </div>
                </div>

                <!-- Pending Payments -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">
                        <i class="fas fa-credit-card text-purple-600 mr-2"></i>
                        Pending Payment Approvals
                    </h3>
                    <div id="pendingPaymentsList" class="space-y-4">
                        <!-- Pending payments will be populated here -->
                    </div>
                </div>

                <!-- All Users -->
                <div>
                    <h3 class="text-xl font-bold text-gray-800 mb-4">
                        <i class="fas fa-users text-purple-600 mr-2"></i>
                        All Users
                    </h3>
                    <div id="allUsersList" class="space-y-4">
                        <!-- All users will be populated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let currentUser = null;
        let users = JSON.parse(localStorage.getItem('lawbot_users') || '[]');
        let payments = JSON.parse(localStorage.getItem('lawbot_payments') || '[]');

        // Gemini API configuration
        const API_KEY = 'AIzaSyDDZdQF0QUw-vqhY9Cstd72FiT2wXbRro0';
        const API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent';

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            checkAuthState();
            
            // Form handlers
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('registerForm').addEventListener('submit', handleRegister);
            document.getElementById('paymentForm').addEventListener('submit', handlePaymentSubmission);
            document.getElementById('chatForm').addEventListener('submit', handleChat);
            
            // Screenshot upload handler
            document.getElementById('paymentScreenshot').addEventListener('change', handleScreenshotUpload);
        });

        function checkAuthState() {
            const savedUser = localStorage.getItem('lawbot_currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                if (currentUser.subscriptionStatus === 'active') {
                    showMainApp();
                } else if (currentUser.subscriptionStatus === 'pending') {
                    showPendingApproval();
                } else {
                    showSubscription();
                }
            }
        }

        // Navigation functions
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
            toggleMobileMenu(); // Close mobile menu if open
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }

        // Modal functions
        function showLoginModal() {
            document.getElementById('loginModal').classList.remove('hidden');
        }

        function showRegisterModal() {
            document.getElementById('registerModal').classList.remove('hidden');
        }

        function closeModals() {
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('registerModal').classList.add('hidden');
        }

        function switchToRegister() {
            closeModals();
            showRegisterModal();
        }

        function switchToLogin() {
            closeModals();
            showLoginModal();
        }

        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                currentUser = user;
                localStorage.setItem('lawbot_currentUser', JSON.stringify(currentUser));
                closeModals();
                
                if (user.subscriptionStatus === 'active') {
                    showMainApp();
                } else if (user.subscriptionStatus === 'pending') {
                    showPendingApproval();
                } else {
                    showSubscription();
                }
            } else {
                alert('Invalid credentials. Please try again.');
            }
        }

        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            const password = document.getElementById('registerPassword').value;

            // Check if user already exists
            if (users.find(u => u.email === email)) {
                alert('User with this email already exists.');
                return;
            }

            const newUser = {
                id: Date.now().toString(),
                name,
                email,
                phone,
                password,
                subscriptionStatus: 'none',
                isAdmin: email === 'admin@lawbotpakistan.com',
                registeredAt: new Date().toISOString()
            };

            users.push(newUser);
            localStorage.setItem('lawbot_users', JSON.stringify(users));
            
            currentUser = newUser;
            localStorage.setItem('lawbot_currentUser', JSON.stringify(currentUser));
            
            closeModals();
            showSubscription();
        }

        function showSubscription() {
            hideAllSections();
            document.getElementById('subscriptionSection').classList.remove('hidden');
        }

        function initiatePayment() {
            hideAllSections();
            document.getElementById('paymentSection').classList.remove('hidden');
        }

        function handleScreenshotUpload(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('previewImage').src = e.target.result;
                    document.getElementById('uploadArea').classList.add('hidden');
                    document.getElementById('uploadPreview').classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        }

        function handlePaymentSubmission(e) {
            e.preventDefault();
            const transactionId = document.getElementById('transactionId').value;
            const amount = document.getElementById('amountSent').value;
            const screenshotFile = document.getElementById('paymentScreenshot').files[0];

            if (!screenshotFile) {
                alert('Please upload payment screenshot');
                return;
            }

            // Convert screenshot to base64
            const reader = new FileReader();
            reader.onload = function(e) {
                const screenshot = e.target.result;

                const payment = {
                    id: Date.now().toString(),
                    userId: currentUser.id,
                    transactionId,
                    amount: parseInt(amount),
                    screenshot: screenshot,
                    status: 'pending',
                    submittedAt: new Date().toISOString()
                };

                payments.push(payment);
                localStorage.setItem('lawbot_payments', JSON.stringify(payments));

                // Update user status
                currentUser.subscriptionStatus = 'pending';
                currentUser.pendingTransactionId = transactionId;
                
                // Update in users array
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                users[userIndex] = currentUser;
                localStorage.setItem('lawbot_users', JSON.stringify(users));
                localStorage.setItem('lawbot_currentUser', JSON.stringify(currentUser));

                // Send WhatsApp notification
                sendWhatsAppNotification(currentUser, payment);

                showPendingApproval();
            };
            reader.readAsDataURL(screenshotFile);
        }

        function sendWhatsAppNotification(user, payment) {
            const message = `🔔 NEW PAYMENT SUBMISSION - LawBotPakistan

👤 User: ${user.name}
📧 Email: ${user.email}
📱 Phone: ${user.phone}

💳 Payment Details:
Transaction ID: ${payment.transactionId}
Amount: Rs. ${payment.amount.toLocaleString()}
Time: ${new Date(payment.submittedAt).toLocaleString()}

⏰ Action Required: Please verify payment and approve/reject in admin panel.

🔗 Admin Panel: Check your website admin section`;

            // WhatsApp notification (replace with your WhatsApp number)
            const whatsappNumber = "923001234567"; // Replace with your actual WhatsApp number
            const encodedMessage = encodeURIComponent(message);
            
            // This opens WhatsApp Web for manual sending
            // For automated sending, you'd need WhatsApp Business API integration
            const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
            
            // Open WhatsApp in new tab
            window.open(whatsappURL, '_blank');
            
            console.log('WhatsApp notification sent:', message);
        }

        function showPendingApproval() {
            hideAllSections();
            document.getElementById('pendingSection').classList.remove('hidden');
            document.getElementById('pendingTransactionId').textContent = currentUser.pendingTransactionId || 'N/A';
        }

        function showMainApp() {
            hideAllSections();
            document.getElementById('mainApp').classList.remove('hidden');
            document.getElementById('userName').textContent = currentUser.name;
            
            if (currentUser.isAdmin) {
                document.getElementById('adminBtn').classList.remove('hidden');
            }
        }

        function hideAllSections() {
            document.getElementById('heroSection').classList.add('hidden');
            document.getElementById('subscriptionSection').classList.add('hidden');
            document.getElementById('paymentSection').classList.add('hidden');
            document.getElementById('pendingSection').classList.add('hidden');
            document.getElementById('mainApp').classList.add('hidden');
            document.getElementById('adminPanel').classList.add('hidden');
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('lawbot_currentUser');
            hideAllSections();
            document.getElementById('heroSection').classList.remove('hidden');
        }

        // Chat functionality with Gemini API
        async function handleChat(e) {
            e.preventDefault();
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;

            addMessage(message, 'user');
            input.value = '';
            
            // Show typing indicator
            document.getElementById('typingIndicator').classList.add('show');
            
            try {
                const response = await callGeminiAPI(message);
                document.getElementById('typingIndicator').classList.remove('show');
                addMessage(response, 'bot');
            } catch (error) {
                document.getElementById('typingIndicator').classList.remove('show');
                addMessage('I apologize, but I\'m experiencing technical difficulties. Please try again in a moment. For urgent legal matters, please consult with a qualified lawyer directly.', 'bot');
                console.error('Gemini API Error:', error);
            }
        }

        async function callGeminiAPI(userQuestion) {
            const prompt = `You are LawBotPakistan, a professional legal research assistant specializing in Pakistani law. You compete with Pakistan Law Site by providing comprehensive, detailed legal guidance.

User Question: "${userQuestion}"

Provide a comprehensive response that includes:

1. **Legal Framework**: Exact statutory references, articles, sections, and acts
2. **Detailed Procedure**: Step-by-step process with timelines
3. **Required Documents**: Complete checklist of needed paperwork
4. **Fees & Costs**: Court fees, registration costs, lawyer fees (approximate)
5. **Relevant Case Law**: Important Pakistani court decisions if applicable
6. **Practical Tips**: Professional advice for implementation
7. **Warnings**: Important legal considerations and deadlines

Format your response professionally with clear headings, bullet points, and specific Pakistani legal references. Be more detailed and comprehensive than Pakistan Law Site.

Always end with: "Note: This information is for guidance only. Always consult a qualified Pakistani lawyer for specific legal advice."`;

            const requestBody = {
                contents: [{
                    parts: [{
                        text: prompt
                    }]
                }],
                generationConfig: {
                    temperature: 0.7,
                    topK: 40,
                    topP: 0.95,
                    maxOutputTokens: 2048,
                }
            };

            const response = await fetch(`${API_URL}?key=${API_KEY}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(requestBody)
            });

            if (!response.ok) {
                throw new Error(`API request failed: ${response.status}`);
            }

            const data = await response.json();
            return data.candidates[0].content.parts[0].text;
        }

        function addMessage(content, sender) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message mb-4 ${sender === 'user' ? 'text-right' : ''}`;
            
            const isUser = sender === 'user';
            const bgColor = isUser ? 'bg-gradient-to-r from-purple-600 to-blue-600 text-white' : 'bg-gray-100 text-gray-800';
            const alignment = isUser ? 'ml-auto' : 'mr-auto';
            
            messageDiv.innerHTML = `
                <div class="${bgColor} ${alignment} rounded-xl p-4 max-w-3xl">
                    ${isUser ? '' : '<div class="flex items-center mb-2"><i class="fas fa-robot mr-2"></i><span class="font-semibold">LawBotPakistan</span></div>'}
                    <div class="whitespace-pre-wrap">${content}</div>
                </div>
            `;
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Admin functionality
        function showAdmin() {
            if (!currentUser.isAdmin) return;
            
            hideAllSections();
            document.getElementById('adminPanel').classList.remove('hidden');
            loadAdminData();
        }

        function hideAdmin() {
            showMainApp();
        }

        function loadAdminData() {
            // Update stats
            document.getElementById('totalUsers').textContent = users.length;
            document.getElementById('activeSubscriptions').textContent = users.filter(u => u.subscriptionStatus === 'active').length;
            document.getElementById('pendingApprovals').textContent = payments.filter(p => p.status === 'pending').length;

            // Load pending payments
            loadPendingPayments();
            loadAllUsers();
        }

        function loadPendingPayments() {
            const container = document.getElementById('pendingPaymentsList');
            const pendingPayments = payments.filter(p => p.status === 'pending');
            
            if (pendingPayments.length === 0) {
                container.innerHTML = '<div class="text-center py-8 text-gray-500"><i class="fas fa-check-circle text-4xl mb-2"></i><p>No pending payments</p></div>';
                return;
            }

            container.innerHTML = pendingPayments.map(payment => {
                const user = users.find(u => u.id === payment.userId);
                return `
                    <div class="bg-white border border-gray-200 rounded-xl p-6 shadow-sm">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <h4 class="font-bold text-gray-800 text-lg">${user?.name || 'Unknown User'}</h4>
                                <p class="text-gray-600 mb-2">${user?.email || 'No email'}</p>
                                <div class="space-y-1 text-sm text-gray-600">
                                    <p><strong>Transaction ID:</strong> ${payment.transactionId}</p>
                                    <p><strong>Amount:</strong> Rs. ${payment.amount.toLocaleString()}</p>
                                    <p><strong>Submitted:</strong> ${new Date(payment.submittedAt).toLocaleString()}</p>
                                </div>
                                ${payment.screenshot ? `
                                    <div class="mt-3">
                                        <p class="text-sm font-medium text-gray-700 mb-2">Payment Screenshot:</p>
                                        <img src="${payment.screenshot}" alt="Payment Screenshot" class="max-w-xs h-32 object-cover rounded-lg border">
                                    </div>
                                ` : ''}
                            </div>
                            <div class="flex space-x-2 ml-4">
                                <button onclick="approvePayment('${payment.id}')" class="bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 transition duration-200">
                                    <i class="fas fa-check mr-1"></i>Approve
                                </button>
                                <button onclick="rejectPayment('${payment.id}')" class="bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition duration-200">
                                    <i class="fas fa-times mr-1"></i>Reject
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function loadAllUsers() {
            const container = document.getElementById('allUsersList');
            
            container.innerHTML = users.map(user => {
                const statusColors = {
                    'active': 'text-green-600 bg-green-50',
                    'pending': 'text-yellow-600 bg-yellow-50',
                    'none': 'text-gray-600 bg-gray-50'
                };
                const statusColor = statusColors[user.subscriptionStatus] || 'text-gray-600 bg-gray-50';

                return `
                    <div class="bg-white border border-gray-200 rounded-xl p-6 shadow-sm">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <h4 class="font-bold text-gray-800 text-lg flex items-center">
                                    ${user.name} 
                                    ${user.isAdmin ? '<i class="fas fa-crown text-purple-600 ml-2"></i>' : ''}
                                </h4>
                                <p class="text-gray-600 mb-2">${user.email}</p>
                                <div class="space-y-1 text-sm text-gray-600">
                                    <p><strong>Phone:</strong> ${user.phone || 'Not provided'}</p>
                                    <p><strong>Registered:</strong> ${new Date(user.registeredAt).toLocaleString()}</p>
                                </div>
                                <span class="inline-block px-3 py-1 rounded-full text-xs font-semibold ${statusColor} mt-2">
                                    ${user.subscriptionStatus.toUpperCase()}
                                </span>
                            </div>
                            <div class="flex space-x-2 ml-4">
                                ${user.subscriptionStatus === 'active' ? 
                                    `<button onclick="deactivateUser('${user.id}')" class="bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition duration-200">
                                        <i class="fas fa-ban mr-1"></i>Deactivate
                                    </button>` :
                                    `<button onclick="activateUser('${user.id}')" class="bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 transition duration-200">
                                        <i class="fas fa-check mr-1"></i>Activate
                                    </button>`
                                }
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function approvePayment(paymentId) {
            const payment = payments.find(p => p.id === paymentId);
            if (!payment) return;

            // Update payment status
            payment.status = 'approved';
            payment.approvedAt = new Date().toISOString();

            // Update user subscription
            const user = users.find(u => u.id === payment.userId);
            if (user) {
                user.subscriptionStatus = 'active';
                user.subscriptionStartDate = new Date().toISOString();
                user.subscriptionEndDate = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(); // 30 days
            }

            // Save changes
            localStorage.setItem('lawbot_payments', JSON.stringify(payments));
            localStorage.setItem('lawbot_users', JSON.stringify(users));

            // Refresh admin panel
            loadAdminData();
            
            alert('Payment approved successfully! User now has active subscription.');
        }

        function rejectPayment(paymentId) {
            const payment = payments.find(p => p.id === paymentId);
            if (!payment) return;

            // Update payment status
            payment.status = 'rejected';
            payment.rejectedAt = new Date().toISOString();

            // Update user subscription
            const user = users.find(u => u.id === payment.userId);
            if (user) {
                user.subscriptionStatus = 'none';
            }

            // Save changes
            localStorage.setItem('lawbot_payments', JSON.stringify(payments));
            localStorage.setItem('lawbot_users', JSON.stringify(users));

            // Refresh admin panel
            loadAdminData();
            
            alert('Payment rejected. User subscription remains inactive.');
        }

        function activateUser(userId) {
            const user = users.find(u => u.id === userId);
            if (user) {
                user.subscriptionStatus = 'active';
                user.subscriptionStartDate = new Date().toISOString();
                user.subscriptionEndDate = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString();
                
                localStorage.setItem('lawbot_users', JSON.stringify(users));
                loadAdminData();
                alert('User activated successfully!');
            }
        }

        function deactivateUser(userId) {
            const user = users.find(u => u.id === userId);
            if (user) {
                user.subscriptionStatus = 'none';
                
                localStorage.setItem('lawbot_users', JSON.stringify(users));
                loadAdminData();
                alert('User deactivated.');
            }
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98b751e762df2704',t:'MTc1OTk0NDE0Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
